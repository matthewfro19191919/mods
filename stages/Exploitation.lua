function onCreate()

    setProperty('healthBarBG.visible', false)
	makeLuaSprite('bg','Expunged/creepyRoom',-1500,-700)
	scaleObject('bg',1.5,1.5)
	addLuaSprite('bg',false)
    setProperty('bg.antialiasing',false)

	
	makeLuaSprite('bg2','Expunged/cheater GLITCH',-1800,-900)
	scaleObject('bg2',2,2)
	addLuaSprite('bg2',false)
    setProperty('bg2.antialiasing',false)

	
	makeLuaSprite('bg3','Expunged/glitchyUnfairBG',-1800,-900)
	scaleObject('bg3',2,2)
	addLuaSprite('bg3',false)
    setProperty('bg3.antialiasing',false)

	
	makeLuaSprite('bg4','Expunged/expunged_chains',-1800,-900)
	scaleObject('bg4',2,2)
	addLuaSprite('bg4',false)
    setProperty('bg4.antialiasing',false)

	
	makeLuaSprite('bg5','Expunged/broken_expunged_chain',-1800,-900)
	scaleObject('bg5',2,2)
	addLuaSprite('bg5',false)
    setProperty('bg5.antialiasing',false)

	makeLuaSprite('bg6','Expunged/glitchy_cheating_2',-1800,-900)
	scaleObject('bg6',2,2)
	addLuaSprite('bg6',false)
    setProperty('bg6.antialiasing',false)

	setProperty('bg2.visible',false)
    setProperty('bg3.visible',false)
    setProperty('bg4.visible',false)
    setProperty('bg5.visible',false)
    setProperty('bg6.visible',false)

end
function onCountdownTick(counter)
	if counter == 3 then
		setProperty('introSoundsSuffix', 'introGo_weird') 
		playSound('introGo_weird',1)
	end
end
function onCreatePost()
    makeLuaSprite('healthbaralt','HELLthBar',getProperty('healthBarBG.x'),getProperty('healthBarBG.y'))
    addLuaSprite('healthbaralt')
    setObjectCamera('healthbaralt','hud')
    setObjectOrder('healthbaralt',getObjectOrder('healthBar'))
    setProperty('healthBarBG.visible', false)
    if boyfriendName == 'bf' then
	local username = os.getenv('USERNAME')
    end
    if boyfriendName == 'shaggy' or boyfriendName == 'redshaggy' or boyfriendName  == 'supershaggy' or boyfriendName == 'godshaggy' then
	local username = 'shaggy'
    end
	local username2 = 'Moonlight'
	setProperty('ghudsong.y',675)
    if boyfriendName == 'bf' then
	makeLuaText('warning', "You won't Survive "..username.."!", 0, 12, 690)
	setTextBorder("warning", 1.8, '000000')
	setTextAlignment('warning', 'LEFT')
	setTextFont('warning', 'COMIC.TTF')
	setTextSize('warning', 18)
	addLuaText('warning')
    end
    if boyfriendName == 'shaggy' or boyfriendName == 'redshaggy' or boyfriendName  == 'supershaggy' or boyfriendName == 'godshaggy' then
	makeLuaText('warning', "You won't Survive Shaggy", 0, 12, 690)
	setTextBorder("warning", 1.8, '000000')
	setTextAlignment('warning', 'LEFT')
	setTextFont('warning', 'COMIC.TTF')
	setTextSize('warning', 18)
	addLuaText('warning')
    end

	setPropertyFromClass("Main", "fpsVar.visible", false)
	makeLuaText('fps', 'FPS:', 0, 12, 0)
	setTextSize('fps', 18)
	addLuaText('fps')

	makeLuaText('fps-count', '-1440000', 0, 12, 25)
	setTextSize('fps-count', 18)
	addLuaText('fps-count')

	makeLuaText('random', 'RVhQvU5H', 0, 12, 45)
	setTextSize('random', 18)
	addLuaText('random')

	makeLuaText('rando', 'RUQgVOIMT', 0, 12, 65)
	setTextSize('rando', 18)
	addLuaText('rando')

	setTextFont('fps', 'COMIC.TTF')
	setTextFont('fps-count', 'COMIC.TTF')
	setTextFont('random', 'COMIC.TTF')
	setTextFont('rando', 'COMIC.TTF')
	
end
fr = 0
function onUpdate(elapsed)
	fr = fr + elapsed
	setProperty('dad.x',-150 + math.sin(fr*1.2) * 100);
	setProperty('dad.y',-200 + math.sin(fr*2.5) * 100);
end

function onStepHit()
	if curStep == 576 then
		setProperty('bg.visible',false)
		setProperty('bg2.visible',true)
    end
	if curStep == 768 then
		setProperty('bg.visible',true)
		setProperty('bg2.visible',false)
    end
	if curStep == 1022 then
		setProperty('bg.visible',false)
		setProperty('bg3.visible',true)
    end
	if curStep == 1152 then
		setProperty('bg3.visible',false)
		setProperty('bg4.visible',true)
    end
	if curStep == 1280 then
		setProperty('bg4.visible',false)
		setProperty('bg5.visible',true)
    end
	if curStep == 1536 then
		setProperty('bg.visible',true)
		setProperty('bg5.visible',false)
    end
	if curStep == 1824 then
		setProperty('bg6.visible',true)
		setProperty('bg.visible',false)
    end
	if curStep == 1952 then
		setProperty('bg.visible',true)
		setProperty('bg6.visible',false)
	end
end

function onEvent(n,v1,v2)
	if n == 'Set Cam Zoom' then
		if v1 == '0.8' then
			doTweenAlpha('begonebf','boyfriend',0,2,'linear')
			doTweenAlpha('begonegf','gf',0,2,'linear')
		end
		if v1 == '0.5' then
			doTweenAlpha('hellobf','boyfriend',1,0.5,'linear')
			doTweenAlpha('hellogf','gf',1,0.5,'linear')
		end
	end
end
